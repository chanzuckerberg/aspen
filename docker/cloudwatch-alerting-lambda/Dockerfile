FROM python:3.9-alpine

ARG SLACK_CHANNEL
ARG SLACK_CHANNEL_ID
ARG SLACK_OAUTH_TOKEN_SECRET_NAME
ENV SLACK_CHANNEL=${SLACK_CHANNEL}
ENV SLACK_CHANNEL_ID=${SLACK_CHANNEL_ID}
ENV SLACK_OAUTH_TOKEN_SECRET_NAME=${SLACK_OAUTH_TOKEN_SECRET_NAME}

WORKDIR /lambda

COPY app.py requirements.txt .
RUN python3 -m pip install -U pip
RUN python3 -m pip install -r requirements.txt
